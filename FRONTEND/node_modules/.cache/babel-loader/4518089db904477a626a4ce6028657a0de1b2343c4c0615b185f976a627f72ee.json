{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"./StudentDashboard.css\";import{FetchIssues}from\"../services/issueService\";import Modal from\"../components/Modal\";import Editpage from\"../components/Editpage\";import toast from\"react-hot-toast\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentDashboard=_ref=>{let{user={}}=_ref;const navigate=useNavigate();const[courseUnits,setCourseUnits]=useState([]);const[singleIssue,setSingleIssue]=useState([]);console.log(\"Data:\",courseUnits);// Handle form submission\nconst handleSubmit=event=>{event.preventDefault();toast('Issues updated successfully!',{style:{backgroundColor:'green',color:'white'}});};const handleEdit=course=>{setSingleIssue(course);openModal();};// const handleDelete = (id) => {\n//   DeleteIssue(id)\n// }\nuseEffect(()=>{FetchIssues(setCourseUnits);},[]);const[isModalOpen,setIsModalOpen]=useState(false);const openModal=()=>{setIsModalOpen(true);};const closeModal=()=>{setIsModalOpen(false);};const logOut=()=>{localStorage.clear();window.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onClose:closeModal,children:/*#__PURE__*/_jsx(Editpage,{data:singleIssue,onClose:closeModal})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Student Dashboard\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Hi, \",(user===null||user===void 0?void 0:user.firstName)||\"Student\",\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Track and update your issue resolutions.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Comment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:courseUnits.map((course,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:course.status,children:[/*#__PURE__*/_jsx(\"td\",{children:course.course_unit}),/*#__PURE__*/_jsx(\"td\",{children:course.status}),/*#__PURE__*/_jsx(\"td\",{children:course.issue_details}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{onClick:()=>handleEdit(course),children:\"Edit\"}),/*#__PURE__*/_jsx(\"br\",{})]})]},index))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Issues\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"report-btn\",onClick:()=>navigate(\"/student/academic-issues\"),children:\"Report an Issue\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logOut,children:\"Log out\"})]});};export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","FetchIssues","Modal","Editpage","toast","jsx","_jsx","jsxs","_jsxs","StudentDashboard","_ref","user","navigate","courseUnits","setCourseUnits","singleIssue","setSingleIssue","console","log","handleSubmit","event","preventDefault","style","backgroundColor","color","handleEdit","course","openModal","isModalOpen","setIsModalOpen","closeModal","logOut","localStorage","clear","window","location","reload","className","children","isOpen","onClose","data","firstName","onSubmit","map","index","status","course_unit","issue_details","onClick","type"],"sources":["C:/Users/antho/Desktop/GroupF-Project/FRONTEND/src/AITS_Pages/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"./StudentDashboard.css\";\r\nimport { FetchIssues } from \"../services/issueService\";\r\nimport Modal from \"../components/Modal\";\r\nimport Editpage from \"../components/Editpage\";\r\nimport toast from \"react-hot-toast\";\r\n\r\n\r\nconst StudentDashboard = ({ user = {} }) => {\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const [courseUnits, setCourseUnits] = useState([]);\r\n  const [singleIssue, setSingleIssue ] = useState([])\r\n\r\n  console.log(\"Data:\", courseUnits);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    toast('Issues updated successfully!', {style: {backgroundColor: 'green', color: 'white'}});\r\n  };\r\n\r\n  const handleEdit = (course) => {\r\n    setSingleIssue(course)\r\n    openModal()\r\n  }\r\n\r\n  \r\n\r\n  // const handleDelete = (id) => {\r\n  //   DeleteIssue(id)\r\n  // }\r\n\r\n  useEffect(() => {\r\n      FetchIssues(setCourseUnits)\r\n  }, [])\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const openModal = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const logOut = () => {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n};\r\n\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <Modal isOpen={isModalOpen} onClose={closeModal} >\r\n        <Editpage data={singleIssue} onClose={closeModal}  />\r\n      </Modal>\r\n\r\n      <h1>Student Dashboard</h1>\r\n      <h2>Hi, {user?.firstName || \"Student\"}! ðŸ‘‹</h2>\r\n      <p>Track and update your issue resolutions.</p>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Course</th>\r\n              <th>Status</th>\r\n              <th>Comment</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {courseUnits.map((course, index) => (\r\n              <tr key={index} className={course.status}>\r\n                <td>{course.course_unit}</td>\r\n                <td>{course.status}</td>\r\n                <td>{course.issue_details}</td>\r\n                <td>\r\n                  <Link\r\n                    onClick={() => handleEdit(course)}\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                  <br />\r\n                  {/* I realized that only a registrar can delete an issue */}\r\n                  {/* <Link\r\n                    onClick={() => handleDelete(course.id)}\r\n                  >\r\n                    Delete\r\n                  </Link> */}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        <button type=\"submit\">Update Issues</button>\r\n      </form>\r\n\r\n      <button className=\"report-btn\" onClick={() => navigate(\"/student/academic-issues\")}>\r\n        Report an Issue\r\n      </button>\r\n\r\n     \r\n\r\n<button onClick={logOut}>Log out</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}