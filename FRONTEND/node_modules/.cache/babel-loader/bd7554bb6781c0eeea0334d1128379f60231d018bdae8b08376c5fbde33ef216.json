{"ast":null,"code":"// src/services/authService.js\nimport axios from'axios';import toast from\"react-hot-toast\";const API_URL=`${process.env.REACT_APP_API_URL}/token/`;const login=async data=>{try{const response=await axios.post(API_URL,data,{headers:{'Content-Type':'application/json'}});if(response.status){localStorage.setItem('token',response.data.access);localStorage.setItem('refresh_token',response.data.refresh);toast('Login Successful.',{style:{backgroundColor:'green',color:'white'}});return response;}}catch(error){var _error$response;toast('Login Not Successful.',{style:{backgroundColor:'red',color:'white'}});console.error(\"Login failed:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}};const logout=()=>{localStorage.removeItem('token');localStorage.removeItem('refresh_token');};const getAccessToken=()=>{return localStorage.getItem('token');};const refreshAccessToken=async()=>{const refreshToken=localStorage.getItem('refresh_token');if(refreshToken){const response=await axios.post(`${process.env.REACT_APP_API_URL}/token/refresh/`,{refresh:refreshToken});localStorage.setItem('token',response.data.access);return response.data.access;}return null;};const authService={login,logout,getAccessToken,refreshAccessToken};export default authService;","map":{"version":3,"names":["axios","toast","API_URL","process","env","REACT_APP_API_URL","login","data","response","post","headers","status","localStorage","setItem","access","refresh","style","backgroundColor","color","error","_error$response","console","message","logout","removeItem","getAccessToken","getItem","refreshAccessToken","refreshToken","authService"],"sources":["C:/Users/antho/Desktop/GroupF-Project/FRONTEND/src/services/authService.js"],"sourcesContent":["// src/services/authService.js\r\nimport axios from 'axios';\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst API_URL = `${process.env.REACT_APP_API_URL}/token/`;\r\n\r\n\r\nconst login = async (data) => {\r\n\r\n    try {\r\n        const response = await axios.post(API_URL, data, {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        });\r\n        if (response.status) {\r\n            localStorage.setItem('token', response.data.access);\r\n            localStorage.setItem('refresh_token', response.data.refresh);\r\n            toast('Login Successful.', {style: {backgroundColor: 'green', color: 'white'}})\r\n            return response\r\n        }\r\n    } catch (error) {\r\n        toast('Login Not Successful.', {style: {backgroundColor: 'red', color: 'white'}})\r\n        console.error(\"Login failed:\", error.response?.data || error.message);\r\n    }\r\n};\r\n\r\nconst logout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('refresh_token');\r\n};\r\n\r\nconst getAccessToken = () => {\r\n    return localStorage.getItem('token');\r\n};\r\n\r\nconst refreshAccessToken = async () => {\r\n    const refreshToken = localStorage.getItem('refresh_token');\r\n    if (refreshToken) {\r\n        const response = await axios.post(`${process.env.REACT_APP_API_URL}/token/refresh/`, { refresh: refreshToken });\r\n        localStorage.setItem('token', response.data.access);\r\n        return response.data.access;\r\n    }\r\n    return null;\r\n};\r\n\r\nconst authService = {\r\n    login,\r\n    logout,\r\n    getAccessToken,\r\n    refreshAccessToken,\r\n}\r\n\r\nexport default authService;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAEnC,KAAM,CAAAC,OAAO,CAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,SAAS,CAGzD,KAAM,CAAAC,KAAK,CAAG,KAAO,CAAAC,IAAI,EAAK,CAE1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACS,IAAI,CAACP,OAAO,CAAEK,IAAI,CAAE,CAC7CG,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACF,GAAIF,QAAQ,CAACG,MAAM,CAAE,CACjBC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACD,IAAI,CAACO,MAAM,CAAC,CACnDF,YAAY,CAACC,OAAO,CAAC,eAAe,CAAEL,QAAQ,CAACD,IAAI,CAACQ,OAAO,CAAC,CAC5Dd,KAAK,CAAC,mBAAmB,CAAE,CAACe,KAAK,CAAE,CAACC,eAAe,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAO,CAAC,CAAC,CAAC,CAC/E,MAAO,CAAAV,QAAQ,CACnB,CACJ,CAAE,MAAOW,KAAK,CAAE,KAAAC,eAAA,CACZnB,KAAK,CAAC,uBAAuB,CAAE,CAACe,KAAK,CAAE,CAACC,eAAe,CAAE,KAAK,CAAEC,KAAK,CAAE,OAAO,CAAC,CAAC,CAAC,CACjFG,OAAO,CAACF,KAAK,CAAC,eAAe,CAAE,EAAAC,eAAA,CAAAD,KAAK,CAACX,QAAQ,UAAAY,eAAA,iBAAdA,eAAA,CAAgBb,IAAI,GAAIY,KAAK,CAACG,OAAO,CAAC,CACzE,CACJ,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjBX,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC,CAChCZ,YAAY,CAACY,UAAU,CAAC,eAAe,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CACzB,MAAO,CAAAb,YAAY,CAACc,OAAO,CAAC,OAAO,CAAC,CACxC,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACnC,KAAM,CAAAC,YAAY,CAAGhB,YAAY,CAACc,OAAO,CAAC,eAAe,CAAC,CAC1D,GAAIE,YAAY,CAAE,CACd,KAAM,CAAApB,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACS,IAAI,CAAC,GAAGN,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiB,CAAE,CAAEU,OAAO,CAAEa,YAAa,CAAC,CAAC,CAC/GhB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACD,IAAI,CAACO,MAAM,CAAC,CACnD,MAAO,CAAAN,QAAQ,CAACD,IAAI,CAACO,MAAM,CAC/B,CACA,MAAO,KAAI,CACf,CAAC,CAED,KAAM,CAAAe,WAAW,CAAG,CAChBvB,KAAK,CACLiB,MAAM,CACNE,cAAc,CACdE,kBACJ,CAAC,CAED,cAAe,CAAAE,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}