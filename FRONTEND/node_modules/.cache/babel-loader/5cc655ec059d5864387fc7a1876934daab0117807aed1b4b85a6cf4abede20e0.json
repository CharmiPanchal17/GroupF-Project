{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\Desktop\\\\GroupF-Project\\\\FRONTEND\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from 'react';\nimport { FetchUser } from '../services/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authContext = /*#__PURE__*/createContext();\nconst AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userId, setUserId] = useState('');\n  const [userLoginData, setUserLoginData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        setUserId(payload.user_id);\n      } catch (error) {\n        console.error(\"Invalid token:\", error);\n      }\n    }\n    setIsAuthenticated(!!token);\n  }, []);\n  useEffect(() => {\n    if (userId) {\n      setLoading(true);\n      FetchUser(userId, setUserLoginData).then(() => setLoading(false));\n    }\n  }, [userId]);\n  useEffect(() => {\n    if (userId) {\n      FetchUser(userId, setUserLoginData);\n    }\n  }, [userId]);\n  console.log(userLoginData);\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: {\n      isAuthenticated,\n      userId,\n      loading,\n      userLoginData,\n      setIsAuthenticated,\n      setUserLoginData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"oboODFzNxzEF7DaVqO/pajOfoQg=\");\n_c = AuthProvider;\nexport { authContext, AuthProvider };\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","FetchUser","jsxDEV","_jsxDEV","authContext","AuthProvider","children","_s","isAuthenticated","setIsAuthenticated","userId","setUserId","userLoginData","setUserLoginData","loading","setLoading","token","localStorage","getItem","payload","JSON","parse","atob","split","user_id","error","console","then","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/antho/Desktop/GroupF-Project/FRONTEND/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from 'react'\r\nimport { FetchUser } from '../services/userService'\r\n\r\nconst authContext = createContext()\r\n\r\nconst AuthProvider = ({ children }) => {\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\r\n  const [userId, setUserId] = useState('')\r\n  const [userLoginData, setUserLoginData] = useState([])\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      try {\r\n        const payload = JSON.parse(atob(token.split('.')[1]));\r\n        setUserId(payload.user_id);\r\n      } catch (error) {\r\n        console.error(\"Invalid token:\", error);\r\n      }\r\n    }\r\n    setIsAuthenticated(!!token);\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      setLoading(true);\r\n      FetchUser(userId, setUserLoginData).then(() => setLoading(false));\r\n    }\r\n  }, [userId]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      FetchUser(userId, setUserLoginData);\r\n    }\r\n  }, [userId]);\r\n\r\n  console.log(userLoginData)\r\n\r\n  return (\r\n    <authContext.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        userId,\r\n        loading,\r\n        userLoginData,\r\n        setIsAuthenticated,\r\n        setUserLoginData,\r\n      }}\r\n    >\r\n      {children}\r\n    </authContext.Provider>\r\n  )\r\n}\r\n\r\nexport { authContext, AuthProvider }"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,SAAS,QAAQ,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,MAAMO,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAErC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMgB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACT,IAAI;QACF,MAAMG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrDZ,SAAS,CAACQ,OAAO,CAACK,OAAO,CAAC;MAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACxC;IACF;IACAhB,kBAAkB,CAAC,CAAC,CAACO,KAAK,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAGNhB,SAAS,CAAC,MAAM;IACd,IAAIU,MAAM,EAAE;MACVK,UAAU,CAAC,IAAI,CAAC;MAChBd,SAAS,CAACS,MAAM,EAAEG,gBAAgB,CAAC,CAACc,IAAI,CAAC,MAAMZ,UAAU,CAAC,KAAK,CAAC,CAAC;IACnE;EACF,CAAC,EAAE,CAACL,MAAM,CAAC,CAAC;EAGZV,SAAS,CAAC,MAAM;IACd,IAAIU,MAAM,EAAE;MACVT,SAAS,CAACS,MAAM,EAAEG,gBAAgB,CAAC;IACrC;EACF,CAAC,EAAE,CAACH,MAAM,CAAC,CAAC;EAEZgB,OAAO,CAACE,GAAG,CAAChB,aAAa,CAAC;EAE1B,oBACET,OAAA,CAACC,WAAW,CAACyB,QAAQ;IACnBC,KAAK,EAAE;MACLtB,eAAe;MACfE,MAAM;MACNI,OAAO;MACPF,aAAa;MACbH,kBAAkB;MAClBI;IACF,CAAE;IAAAP,QAAA,EAEDA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAA3B,EAAA,CAnDKF,YAAY;AAAA8B,EAAA,GAAZ9B,YAAY;AAqDlB,SAASD,WAAW,EAAEC,YAAY;AAAE,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}