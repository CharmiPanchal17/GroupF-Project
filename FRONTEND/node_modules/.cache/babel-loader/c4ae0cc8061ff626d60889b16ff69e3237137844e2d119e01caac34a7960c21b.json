{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import AcademicIssuePage from\"./AITS_Pages/issuepage\";import StudentDashboard from\"./AITS_Pages/StudentDashboard\";import WelcomePage from\"./AITS_Pages/WelcomePage\";import LoginPage from\"./AITS_Pages/LoginPage\";import LecturerDashboard from\"./AITS_Pages/LecturerDashboard\";import Registrardashboard from\"./AITS_Pages/Registrardashboard\";import{ToastContainer}from\"react-toastify\";import{authContext}from\"./context/AuthContext\";import{Toaster}from\"react-hot-toast\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){useEffect(()=>{document.title=\"AITS\";},[]);const isAuthenticated=!!localStorage.getItem(\"token\");const{userLoginData}=useContext(authContext);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Routes,{children:!isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(WelcomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[(userLoginData===null||userLoginData===void 0?void 0:userLoginData.role)===\"student\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/student\",element:/*#__PURE__*/_jsx(StudentDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/student/academic-issues\",element:/*#__PURE__*/_jsx(AcademicIssuePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/student\"})})]}),(userLoginData===null||userLoginData===void 0?void 0:userLoginData.role)===\"lecturer\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/lecturer\",element:/*#__PURE__*/_jsx(LecturerDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/lecturer/academic-issues\",element:/*#__PURE__*/_jsx(AcademicIssuePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/lecturer\"})})]}),(userLoginData===null||userLoginData===void 0?void 0:userLoginData.role)===\"registrar\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/registrar-dashboard\",element:/*#__PURE__*/_jsx(Registrardashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/registrar-dashboard\"})})]})]})})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:3000})]});}export default App;","map":{"version":3,"names":["React","useContext","useEffect","BrowserRouter","Router","Routes","Route","Navigate","AcademicIssuePage","StudentDashboard","WelcomePage","LoginPage","LecturerDashboard","Registrardashboard","ToastContainer","authContext","Toaster","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","document","title","isAuthenticated","localStorage","getItem","userLoginData","children","path","element","to","role","position","autoClose"],"sources":["C:/Users/antho/Desktop/GroupF-Project/FRONTEND/src/App.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport AcademicIssuePage from \"./AITS_Pages/issuepage\";\r\nimport StudentDashboard from \"./AITS_Pages/StudentDashboard\";\r\nimport WelcomePage from \"./AITS_Pages/WelcomePage\";\r\nimport LoginPage from \"./AITS_Pages/LoginPage\";\r\nimport LecturerDashboard from \"./AITS_Pages/LecturerDashboard\";\r\nimport Registrardashboard from \"./AITS_Pages/Registrardashboard\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { authContext } from \"./context/AuthContext\";\r\nimport { Toaster } from \"react-hot-toast\";\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    document.title = \"AITS\";\r\n  }, []);\r\n\r\n  const isAuthenticated = !!localStorage.getItem(\"token\");\r\n  const { userLoginData } = useContext(authContext);\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Routes>\r\n          {/* Public Routes (Accessible without a token) */}\r\n          {!isAuthenticated ? (\r\n            <>\r\n              <Route path=\"/\" element={<WelcomePage />} />\r\n              <Route path=\"/login\" element={<LoginPage />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/login\" />} />\r\n            </>\r\n          ) : (\r\n            <>\r\n              {/* Protected Routes Based on Role */}\r\n              {userLoginData?.role === \"student\" && (\r\n                <>\r\n                  <Route path=\"/student\" element={<StudentDashboard />} />\r\n                  <Route path=\"/student/academic-issues\" element={<AcademicIssuePage />} />\r\n                  <Route path=\"*\" element={<Navigate to=\"/student\" />} />\r\n                </>\r\n              )}\r\n\r\n              {userLoginData?.role === \"lecturer\" && (\r\n                <>\r\n                  <Route path=\"/lecturer\" element={<LecturerDashboard />} />\r\n                  <Route path=\"/lecturer/academic-issues\" element={<AcademicIssuePage />} />\r\n                  <Route path=\"*\" element={<Navigate to=\"/lecturer\" />} />\r\n                </>\r\n              )}\r\n\r\n              {userLoginData?.role === \"registrar\" && (\r\n                <>\r\n                  <Route path=\"/registrar-dashboard\" element={<Registrardashboard />} />\r\n                  <Route path=\"*\" element={<Navigate to=\"/registrar-dashboard\" />} />\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </Routes>\r\n      </Router>\r\n\r\n      {/* Global Toast Notifications */}\r\n      <Toaster position=\"top-right\" />\r\n      <ToastContainer position=\"top-right\" autoClose={3000} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}